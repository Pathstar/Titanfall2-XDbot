XDbot
todo b站专栏 或 .md 是否互通复制图片

纯娱乐bot，你的开心是我最大的荣幸！

Bot特色：
一 连杀播报-通过读取右下角击杀播报信息进行存储播报
1.在连杀达到一定数量时进行播报，比如：
xxx达成了10连杀！无人可挡！
xxx达成了15连杀！诸天灭地！我们没救了！

2.且包括一些特色播报，例如：
xxx 拳脚精通！使用「肘击」达成了3连杀！
xxx使用神器「A盾喷火」达成了5连杀！是火神！我们没救了！
克莱博从入门到拳脚精通！xxx放弃了克莱博，使用「肘击」达成了3连杀！
以及更多...

3.当玩家达成10连杀后死亡也会进行播报：
我们有救了！xxx使用「Weapon」中断了xxx的10连杀！
一刻也没有为xxx哀悼！xxx使用「Weapon」中断了TA自己的19连杀！
最终,没有人能中断xxx的20连杀

4.其他播报
针对萌新服和养老服等
修改播报条件为5连杀
通过播报信息分析是否为被踢出并提示：
【XDbot】大笨蛋xxx被踢出了游戏！
同样的，被踢后再次加入：
【XDbot】超级大笨蛋xxx在被踢后尝试再次加入，未果

二 命令系统
如果使用队伍内发送消息，bot也会使用队内回复消息，@xd 也可以放在话的末尾，例如：
今天也要开心！@xd yay

命令一览 (按字母排序):
@xd AI (问题)
返回与AI交流的回答
通过squirrel发送json消息到python，模型使用Qwen 4B，支持上下文，可以通过命令修改
@xd ai set 清除上下文
@xd ai set new chat
@xd ai set 上下文长度 (数字)


@xd meow
喵喵妙喵妙喵妙喵喵喵妙

@xd meme
随机输出一个meme笑话（待补充）

@xd pinyin (拼音)
返回转文字内容
使用python的Pinyin2Hanzi库进行拼音转文字（通过squirrel发送json消息到python）
将会保留除拼音外的内容，例如：
@xd pinyin wo xiAng yaO !OvO zhuan Pin YIN ao -v-@@@
返回：
我想要!OvO转拼音嗷-v-@@@
破损版手搓转文字保留
@xd oldPinyin

全局转拼音系统：
通过空格分割，如果长度>=2且第一部分或第二部分字符串长度小于7且首个字符以字母开始，则传递给转文字
如果转文字过程中，失败次数达到总长度一半，则不会返回转文字，例如某玩家：
wo chaoooooooo
√   ×
-failed

me too
√   ×
-failed

wo chao a @ @
-success

@xd roll
返回随机1-6

@xd time
返回当前实际时间
（通过squirrel发送json消息到python）

@xd yay
返回随机可爱颜表情

@xd 查询等级 (模糊玩家名称)
返回玩家等级，名称留空则查自己

@xd 查询装备 (模糊玩家名称)
返回玩家装备，名称留空则查自己

@xd 井字棋
有两个玩家输入此命令后开始井字棋游戏，通过@xd 3 1 将棋子下到 第三列第一行 的位置中

@xd 打开/关闭连杀播报
可以开关连杀播报

@xd 进入/退出操控模式
格式：[命令 时间] 前/后/左/右/左转/右转/停/跳/蹲/开火/停火/重火力/技能/重生/走/跑/退出/撤退！；cmd [任意控制台命令]...
为了控制尽量简洁，不需要@xd，直接发送消息例如：
前 10
停
开火 1.2
重生
cmd quit （真的要这么做吗TvT
撤退！    返回：【XDbot】好的！撤退！！！ (≧▽≦)/     然后退出了游戏

上下调整视角没找到命令，所以实现不了
如果是我忘记退了还能远端控制让我退出去uwu

额外的：
为了防止我不小心在小图挂机，我将实时自动切换到人多的队伍中，防止在人少的队伍中占位
在长时间无人的情况下，我将自动退出游戏，在凌晨时，将改成发送关机提示并在一定时间后自动关机










源码实现：

squirrel与python的实现过程：
squirrel：
使用NSSaveJSONFile，保存json数据到save.json中，并开启循环NSLoadJSONFile读取load.json，读取到后将json清空，并读取state.txt，如果状态为完毕，退出循环读取。
python：
使用watchdog库监测save.json状态，如有变更立即进行读取，并保存state.txt状态为处理中，开启线程进行处理，处理后覆写到load.json中，如果所有线程处理任务都执行完毕，保存state.txt状态为完毕

连杀播报源码：


命令系统源码：


python接口源码：









